---
title : HashMap
date : 2019-12-24 23:36:08
collection : 数据结构
---

## 问题

1.为什么1.8中数量到8后会转为treeNode结构

时间和空间的权衡考虑，正常情况下，链表元素超过8的概率为百万分之一，因为不能阻止别人实现性能查的hash算法，如果hash算法离散型很差，那么链表元素将大概率超过8，此时转换为树结构提升查询效率比较合理。

2.为什么初始容量要设为8？

初始容量固定为2的n次方，原因是hashmap计算元素落到哪个数组位置时，是通过hash值 & 容量得出。
