---
title : 本地缓存
date : 2020-05-25 00:45:46
---

## 本地缓存(key会过期)

### 实现方案1: ConcurrentHashMap+key过期时间戳

1.1 查询缓存时，如果当前时间大于key的过期时间，则不返回，并且对该key进行删除
1.2 定时任务随机删除key，策略为随机从有过期时间的key中，抽样进行删除。

总结：性能最好，但是会占用比较多的内存空间

### 改进方案1

增加LRU算法，淘汰掉不常用的key值

### 改进方案2

使用延迟队列，对key定时删除
